---
title: "BeerDataShiny"
author: "Jules Stacy"
date: "February 13, 2020"
output: html_document
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r echo=FALSE}

suppressPackageStartupMessages(library(shiny))
suppressPackageStartupMessages(library(DT))
suppressPackageStartupMessages(library(ggplot2))  # for the diamonds dataset

#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))

beer_df = read.csv("./Data/Beers.csv")

breweries_df = read.csv("./Data/Breweries.csv")

#data cleaning
colnames(breweries_df) <- c("Brewery_id", "Brewery", "City", "State")
breweries_df$State <- str_replace_all(breweries_df$State, " ", "")

#dataset merge
beer_df = merge(beer_df, breweries_df, by="Brewery_id")

#duplicate beers were found, cleaning
beer_df <- beer_df %>% distinct(Name, ABV, IBU, Style, Ounces, .keep_all=TRUE)



ui <- fluidPage(
  title = "Case Study 01 Original Data",
  sidebarLayout(
    sidebarPanel(
        'input.dataset === "Beer"',
        checkboxGroupInput("show_vars", "Columns to show:",
                           names(beer_df), selected = names(beer_df))
      ),
    mainPanel(
      tabsetPanel(
        id = 'dataset',
        tabPanel("beer", DT::dataTableOutput("mytable1"))
      )
    )
  )
)


server <- function(input, output) {

  # choose columns to display
  output$mytable1 <- DT::renderDataTable({
    DT::datatable(beer_df[, input$show_vars, drop = FALSE], options = list(orderClasses = TRUE))
  })

}

shinyApp(ui, server)


```